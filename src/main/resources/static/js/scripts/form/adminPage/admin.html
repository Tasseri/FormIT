<section layout="row" align="left" flex="true">
    <md-sidenav class="md-sidenav-left" md-component-id="left" md-is-locked-open="true" md-whiteframe="4">

        <md-toolbar class="md-theme-indigo">
            <h1 class="md-toolbar-tools">Alternatives</h1>
        </md-toolbar>

        <md-button id="radio" draggable>Single choice</md-button>
        <md-button id="text" draggable>Text-question</md-button>
        <md-button id="select" draggable>Select-question</md-button>
        <md-button id="textarea" draggable>Textarea-question</md-button>
        <md-button id="checkbox" draggable>Multiple choice</md-button>

    </md-sidenav>


    <div flex layout="column" layout-align="top center" droppable drop="vm.handleDrop">
        <admin-formtitle formtitle="vm.form.title"></admin-formtitle>


        <div ng-repeat="item in vm.itemBag track by $index">

            <div ng-if="item.type === 37798572">
                <add-text question="item"></add-text>
            </div>

            <div ng-if="item.type === 37798573">
                <add-radio question="item" add="vm.addChoice"></add-radio>
            </div>

            <div ng-if="item.type ===37798574">
                <add-select question="item" add="vm.addChoice"></add-select>
            </div>

            <div ng-if="item.type ===37798575">
                <add-checkbox question="item" add="vm.addChoice"></add-checkbox>
            </div>

            <div ng-if="item.type === 37798576">
                <add-textarea question="item"></add-textarea>
            </div>


            <div ng-if="item === 'text'">
                <add-question submit="vm.addText" index="$index" name="item"></add-question>
            </div>
            <div ng-if="item === 'radio'">
                <add-question submit="vm.addRadio" index="$index" name="item"></add-question>
            </div>
            <div ng-if="item === 'checkbox'">
                <add-question submit="vm.addCheck" index="$index" name="item"></add-question>
            </div>
            <div ng-if="item === 'select'">
                <add-question submit="vm.addSelect" index="$index" name="item"></add-question>
            </div>
            <div ng-if="item === 'textarea'">
                <add-question submit="vm.addTextarea" index="$index" name="item"></add-question>
            </div>
        </div>


        <md-button class="md-raised md-primary" data-ng-required="title" data-ng-click="vm.send()">Save</md-button>

        <md-button class="md-raised md-primary" data-ng-click="vm.get()">Get all forms</md-button>
        <div>
            <md-input-container>
                <label>Enter formId</label>
                <input ng-model="formId">
            </md-input-container>
            <md-button class="md-raised" ng-click="vm.getForm(formId)">
                Get form
            </md-button>
        </div>
        <div>
            <ul ng-repeat="form in vm.forms">
                <li>
                    <a ng-click="vm.chooseForm(form)">{{form.title}}</a>
                </li>
            </ul>
            <ul ng-repeat="question in vm.form.questions">
                <li>{{question.question}}</li>
                <ol ng-repeat="choice in question.choices">
                    <li>
                        {{choice.description}}
                    </li>
                </ol>
            </ul>
            <div ng-repeat="question in vm.form.questions">
                <div ng-if="question.type === 37798572">
                    <form-text question="question" model="vm.data.answers[$index]"></form-text>
                </div>
                <div ng-if="question.type === 37798573">
                    <form-radio question="question" model="vm.data.answers[$index]"></form-radio>
                </div>
                <div ng-if="question.type === 37798575">
                    <form-check question="question" model="vm.data.answers[$index]"></form-check>
                </div>
                <div ng-if="question.type === 37798574">
                    <form-select question="question" model="vm.data.answers[$index]"></form-select>
                </div>
                <div ng-if="question.type === 37798576">
                    <form-textarea question="question" model="vm.data.answers[$index]"></form-textarea>
                </div>
            </div>
        </div>
    </div>

</section>

<footer layout="row" layout-align="center center">
    <md-nav-bar>
        <md-nav-item md-nav-href="#/form?key={{vm.form.formId}}">{{vm.form.formId}}</md-nav-item>
    </md-nav-bar>
</footer>
